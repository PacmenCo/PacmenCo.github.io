<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Combat Mechanics ‚Äì Idle Adventure</title>

  <!-- Google Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link
    href="https://fonts.googleapis.com/css2?family=Press+Start+2P&family=Space+Grotesk:wght@400;500;600;700&display=swap"
    rel="stylesheet">

  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    :root {
      --bg-dark: #0a0e1a;
      --bg-dark-2: #141829;
      --bg-card: #1a1f35;
      --accent-purple: #7c3aed;
      --accent-orange: #f59e0b;
      --accent-cyan: #06b6d4;
      --text-primary: #f3f4f6;
      --text-secondary: #9ca3af;
    }

    body {
      font-family: 'Space Grotesk', -apple-system, BlinkMacSystemFont, sans-serif;
      background: var(--bg-dark);
      color: var(--text-primary);
      line-height: 1.6;
    }

    /* Navigation */
    .nav-bar {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      background: rgba(10, 14, 26, 0.95);
      backdrop-filter: blur(10px);
      padding: 1rem 2rem;
      z-index: 1000;
      border-bottom: 1px solid rgba(124, 58, 237, 0.2);
    }

    .nav-content {
      max-width: 1200px;
      margin: 0 auto;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .nav-logo {
      font-family: 'Press Start 2P', monospace;
      font-size: 1rem;
      color: var(--accent-orange);
      text-shadow: 0 0 10px rgba(245, 158, 11, 0.5);
      text-decoration: none;
    }

    .back-link {
      color: var(--accent-cyan);
      text-decoration: none;
      font-weight: 600;
      transition: color 0.3s ease;
    }

    .back-link:hover {
      color: var(--accent-orange);
    }

    /* Main Content */
    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 6rem 2rem 3rem;
    }

    .hero-section {
      text-align: center;
      margin-bottom: 4rem;
    }

    .page-title {
      font-size: clamp(2.5rem, 6vw, 4rem);
      background: linear-gradient(135deg, var(--accent-orange), var(--accent-cyan));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      margin-bottom: 1rem;
    }

    .page-subtitle {
      font-size: 1.25rem;
      color: var(--text-secondary);
      max-width: 700px;
      margin: 0 auto 2rem;
    }

    .content-section {
      background: var(--bg-card);
      border-radius: 16px;
      padding: 2rem;
      margin-bottom: 2rem;
      border: 2px solid rgba(124, 58, 237, 0.2);
    }

    .content-section h2 {
      color: var(--accent-orange);
      margin-bottom: 1rem;
      font-size: 1.75rem;
    }

    .content-section p {
      color: var(--text-secondary);
      line-height: 1.8;
      margin-bottom: 1rem;
    }

    .feature-list {
      list-style: none;
      padding: 0;
    }

    .feature-list li {
      padding: 0.75rem 0;
      border-bottom: 1px solid rgba(124, 58, 237, 0.1);
      color: var(--text-secondary);
    }

    .feature-list li:last-child {
      border-bottom: none;
    }

    .feature-list li:before {
      content: "‚öîÔ∏è";
      margin-right: 0.75rem;
    }

    .debuffs-grid {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 1rem;
      margin-top: 1.5rem;
      grid-auto-rows: 1fr;
    }

    .debuff-card {
      background: rgba(124, 58, 237, 0.05);
      border: 2px solid rgba(124, 58, 237, 0.2);
      border-radius: 12px;
      padding: 1.25rem;
      text-align: center;
      transition: all 0.3s ease;
      cursor: pointer;
      display: flex;
      flex-direction: column;
      justify-content: center;
      height: 100%;
    }

    .debuff-card:hover {
      transform: translateY(-3px);
      border-color: var(--accent-orange);
      box-shadow: 0 6px 20px rgba(124, 58, 237, 0.3);
    }

    .debuff-icon {
      font-size: 2.5rem;
      margin-bottom: 0.5rem;
      filter: drop-shadow(0 0 8px rgba(245, 158, 11, 0.3));
    }

    .debuff-image {
      width: 60px;
      height: 60px;
      margin: 0 auto 0.5rem;
      object-fit: contain;
      filter: drop-shadow(0 0 8px rgba(245, 158, 11, 0.3));
    }

    .debuff-name {
      color: var(--accent-cyan);
      font-weight: 600;
      font-size: 0.9rem;
    }

    @media (max-width: 768px) {
      .nav-bar {
        padding: 0.75rem 1rem;
      }

      .nav-logo {
        font-size: 0.8rem;
      }

      .container {
        padding: 5rem 1rem 2rem;
      }

      .hero-section {
        margin-bottom: 2rem;
      }

      .page-subtitle {
        font-size: 1rem;
      }

      .content-section {
        padding: 1.5rem;
        margin-bottom: 1.5rem;
      }

      .content-section h2 {
        font-size: 1.5rem;
        margin-bottom: 0.75rem;
      }

      .content-section h3 {
        font-size: 1.1rem;
        margin-top: 1rem;
      }

      .debuffs-grid {
        gap: 0.75rem;
      }

      .debuff-card {
        padding: 1rem;
      }

      .debuff-icon {
        font-size: 2rem;
      }

      .debuff-image {
        width: 50px;
        height: 50px;
      }

      .debuff-name {
        font-size: 0.85rem;
      }
    }

    @media (max-width: 375px) {
      .container {
        padding: 5rem 0.75rem 2rem;
      }

      .hero-section {
        margin-bottom: 1.5rem;
      }

      .page-title {
        font-size: 2rem;
      }

      .page-subtitle {
        font-size: 0.9rem;
      }

      .content-section {
        padding: 1rem;
        margin-bottom: 1rem;
      }

      .content-section h2 {
        font-size: 1.3rem;
      }

      .content-section h3 {
        font-size: 1rem;
      }

      .content-section p {
        font-size: 0.9rem;
      }

      .debuffs-grid {
        gap: 0.5rem;
      }

      .debuff-card {
        padding: 0.75rem;
      }

      .debuff-icon {
        font-size: 1.75rem;
      }

      .debuff-image {
        width: 45px;
        height: 45px;
      }

      .debuff-name {
        font-size: 0.8rem;
      }

      .feature-list li {
        font-size: 0.9rem;
      }
    }
  </style>
</head>

<body>
  <!-- Navigation -->
  <nav class="nav-bar">
    <div class="nav-content">
      <a href="index.html" class="nav-logo">IDLE ADVENTURE</a>
      <a href="index.html" class="back-link">‚Üê Back to Home</a>
    </div>
  </nav>

  <!-- Main Content -->
  <div class="container">
    <div class="hero-section">
      <h1 class="page-title">‚öîÔ∏è Combat Mechanics</h1>
      <p class="page-subtitle">Master the systems that govern battle and survival</p>
    </div>

    <div class="content-section">
      <h2>Battle System</h2>
      <p>
        Idle Adventure features a dynamic combat system that focuses on both strategy and progression.
        Engage in battles where timing, skill selection, companions, pets and equipment choices make the
        difference
        between victory and defeat.
      </p>

    </div>

    <div class="content-section">
      <h2>Health (HP)</h2>
      <p>
        Your maximum HP determines how much damage you can take before dying. HP is calculated from multiple
        sources that stack together:
      </p>

      <h3 style="color: var(--accent-cyan); margin-top: 1.5rem; margin-bottom: 0.75rem;">Flat HP Sources</h3>
      <ul class="feature-list">
        <li><strong>Level:</strong> The amount depends on your level (higher levels => more HP per level)</li>
        <li><strong>Rank:</strong> +3 HP per rank</li>
        <li><strong>Equipment:</strong> Items can provide flat HP bonuses</li>
        <li><strong>Pets:</strong> Some Pets grant additional HP</li>
        <li><strong>Talents:</strong> Flat HP-nodes</li>
        <li><strong>Ascension:</strong> Permanent HP bonuses from ascensions (Easy, hard and hardcore!)</li>
        <li><strong>Pixel Sink:</strong> HP purchased through pixel investments</li>
      </ul>

      <h3 style="color: var(--accent-cyan); margin-top: 1.5rem; margin-bottom: 0.75rem;">Percentage HP Multipliers</h3>
      <p>
        After calculating your flat HP, the total is multiplied by percentage bonuses from:
      </p>
      <ul class="feature-list">
        <li><strong>Equipment:</strong> HP% stats on items</li>
        <li><strong>Pets:</strong> HP% modifiers from Pets</li>
        <li><strong>Talents:</strong> Percentage HP-nodes</li>
        <li><strong>Buffs:</strong> Temporary HP buffs (Elixirs and adbuff)</li>
        <li><strong>Guild Buffs:</strong> Guild-wide HP increases (Coming soon!)</li>
      </ul>

      <h3 style="color: var(--accent-cyan); margin-top: 1.5rem; margin-bottom: 0.75rem;">HP Formula</h3>
      <p
        style="background: rgba(6, 182, 212, 0.05); border: 1px solid var(--accent-cyan); padding: 1rem; border-radius: 8px; font-family: 'Courier New', monospace; color: var(--accent-cyan); margin: 1rem 0;">
        Max HP = (Flat HP Sources) √ó (1 + All HP% Bonuses)
      </p>

      <h3 style="color: var(--accent-cyan); margin-top: 1.5rem; margin-bottom: 0.75rem;">Death Penalty</h3>
      <p>
        When your HP reaches zero, you die and suffer penalties:
      </p>
      <ul class="feature-list">
        <li><strong>XP Loss:</strong> You lose a portion of your current Rank experience</li>
        <li><strong>Teleported Home:</strong> You are transported back to the home area</li>
      </ul>
      <h3 style="color: var(--accent-cyan); margin-top: 1.5rem; margin-bottom: 0.75rem;">Heal Spell</h3>
      <p>
        The heal spell scales with both your base HP and maximum HP:
      </p>
      <p
        style="background: rgba(6, 182, 212, 0.05); border: 1px solid var(--accent-cyan); padding: 1rem; border-radius: 8px; font-family: 'Courier New', monospace; color: var(--accent-cyan); margin: 1rem 0;">
        Heal Amount = (Base HP √ó 0.083) + (Max HP √ó 0.074)<br><br>
        <span style="color: var(--text-secondary); font-size: 0.9rem;">Where:</span><br>
        <span style="color: var(--text-secondary); font-size: 0.9rem;">Base HP = HP from Level + HP from Rank +
          10</span><br>
        <span style="color: var(--text-secondary); font-size: 0.9rem;">HP from Level = 0.41 √ó (Level +
          Level^1.85)</span><br>
        <span style="color: var(--text-secondary); font-size: 0.9rem;">HP from Rank = Rank √ó 3 √ó Ascension
          Modifier</span>
      </p>
      <p>
        Base HP represents your health from level and rank progression only, before equipment, pets, talents, and
        other bonuses are applied. Max HP includes all sources, and is the value you will see in your HP bar.
      </p>
      <p
        style="background: rgba(245, 158, 11, 0.1); border-left: 4px solid var(--accent-orange); padding: 1rem; border-radius: 4px; margin: 1rem 0;">
        <strong style="color: var(--accent-orange);">Note:</strong> The heal spell works differently in certain areas of
        the game.
      </p>
      <p>
        While HP does not help you directly in obtaining XP faster, you should not underestimate its importance.
        Higher max HP means stronger healing, better survivability, and fewer deaths.
      </p>
      <p
        style="background: rgba(6, 182, 212, 0.1); border-left: 4px solid var(--accent-cyan); padding: 1rem; border-radius: 4px; margin: 1rem 0;">
        <strong style="color: var(--accent-cyan);">üí° Hint:</strong> Health Potions scale with your maximum HP. Increasing your max HP makes potions more effective. Read more on the <a href="consumables.html" style="color: var(--accent-cyan); text-decoration: underline;">consumables</a> page.
      </p>
    </div>

    <div class="content-section">
      <h2>Mana</h2>
      <p>
        Mana is consumed when using abilities and skills. Your maximum mana and regeneration rate determine
        how often you can cast spells in combat.
      </p>

      <h3 style="color: var(--accent-cyan); margin-top: 1.5rem; margin-bottom: 0.75rem;">Maximum Mana</h3>
      <p
        style="background: rgba(6, 182, 212, 0.05); border: 1px solid var(--accent-cyan); padding: 1rem; border-radius: 8px; font-family: 'Courier New', monospace; color: var(--accent-cyan); margin: 1rem 0;">
        Max Mana = (100 + Mana from Pets + Mana from Items + Mana from Talents) √ó (Mana Buffs)
      </p>

      <ul class="feature-list">
        <li><strong>Base:</strong> 100 mana for all characters</li>
        <li><strong>Pets:</strong> Certain pets provide flat mana bonuses</li>
        <li><strong>Equipment:</strong> Items with mana affixes</li>
        <li><strong>Talents:</strong> Talent points invested in mana</li>
        <li><strong>Buffs:</strong> Temporary mana multipliers</li>
      </ul>

      <h3 style="color: var(--accent-cyan); margin-top: 1.5rem; margin-bottom: 0.75rem;">Mana Regeneration</h3>
      <p
        style="background: rgba(6, 182, 212, 0.05); border: 1px solid var(--accent-cyan); padding: 1rem; border-radius: 8px; font-family: 'Courier New', monospace; color: var(--accent-cyan); margin: 1rem 0;">
        Mana Regen = (1.45 + 0.0073 √ó (Max Mana - 100)) √ó (1 + Talent Mana Regen)
      </p>

      <p>
        Mana regenerates every 0.2 seconds. Higher maximum mana increases your regeneration rate, creating
        a synergy between mana investment and ability usage. Talent bonuses further multiply your regeneration.
      </p>

      <p
        style="background: rgba(6, 182, 212, 0.1); border-left: 4px solid var(--accent-cyan); padding: 1rem; border-radius: 4px; margin: 1rem 0;">
        <strong style="color: var(--accent-cyan);">üí° Hint:</strong> Mana Potions scale with your maximum mana. Increasing your max mana makes potions more effective. Read more on the <a href="consumables.html" style="color: var(--accent-cyan); text-decoration: underline;">consumables</a> page.
      </p>

    </div>

    <div class="content-section">
      <h2>Hit Chance: Accuracy & Evasion</h2>
      <p>
        Every attack in combat must pass a hit chance calculation that determines whether it connects or misses.
        This system creates strategic depth through the interplay of level, accuracy, and evasion.
      </p>

      <h3 style="color: var(--accent-cyan); margin-top: 1.5rem; margin-bottom: 0.75rem;">Hit Chance Formula</h3>
      <p
        style="background: rgba(6, 182, 212, 0.05); border: 1px solid var(--accent-cyan); padding: 1rem; border-radius: 8px; font-family: 'Courier New', monospace; color: var(--accent-cyan); margin: 1rem 0;">
        Level Factor = 0.8 + (Attacker Level - Defender Level) √ó 0.0173<br>
        <span style="color: var(--text-secondary); font-size: 0.9rem;">(Capped between 0.4 and 0.9)</span><br><br>
        Accuracy Factor = (Attacker Accuracy - Defender Evasion) √ó 0.012<br><br>
        Final Hit Chance = Level Factor + Accuracy Factor<br>
        <span style="color: var(--text-secondary); font-size: 0.9rem;">(Minimum 5%, Maximum 99.8%)</span>
      </p>

      <h3 style="color: var(--accent-cyan); margin-top: 1.5rem; margin-bottom: 0.75rem;">Understanding the Components
      </h3>
      <ul class="feature-list">
        <li><strong>Level Advantage:</strong> Being higher level than your target provides a base hit chance boost (up
          to +10%)</li>
        <li><strong>Level Disadvantage:</strong> Lower level reduces your base hit chance (down to -40%)</li>
        <li><strong>Accuracy:</strong> Increases your hit chance by 1.2% per point of net advantage</li>
        <li><strong>Evasion:</strong> Reduces enemy hit chance against you by 1.2% per point</li>
        <li><strong>Guaranteed Outcomes:</strong> You can never achieve 100% hit rate or 0% - minimum 5%, maximum 99.8%
        </li>
      </ul>

      <h3 style="color: var(--accent-cyan); margin-top: 1.5rem; margin-bottom: 0.75rem;">Strategic Implications</h3>
      <p>
        The net difference between accuracy and evasion determines combat reliability. When facing enemies with high
        evasion, accuracy investment becomes crucial. Similarly, high evasion can make you significantly harder to hit,
        especially when combined with level advantage. The 5% minimum hit chance means even heavily outmatched enemies
        pose some threat, while the 99.8% cap ensures perfect accuracy is unattainable.
      </p>
    </div>

    <div class="content-section">
      <h2>Rating Stats Explained</h2>
      <p>
        Items can provide stats as <strong>direct bonuses</strong> (like "+5% Critical Chance") or as
        <strong>rating values</strong> (like "+150 Critical Rating"). Ratings convert to actual stats using
        your character level.
      </p>

      <h3 style="color: var(--accent-cyan); margin-top: 1.5rem; margin-bottom: 0.75rem;">Converting Rating to Critical
        Strike %</h3>
      <p
        style="background: rgba(6, 182, 212, 0.05); border: 1px solid var(--accent-cyan); padding: 1rem; border-radius: 8px; font-family: 'Courier New', monospace; color: var(--accent-cyan); margin: 1rem 0;">
        Rating Multiplier = (1 / 2^(Player Level √ó 0.0111 + 1)) √ó (50 / Player Level)<br><br>
        Critical Chance % = Critical Rating √ó Rating Multiplier
      </p>

      <p>
        <strong>Example:</strong> If you have 200 Critical Rating at level 50, your rating multiplier is approximately
        0.275, giving you 200 √ó 0.275 = 55% critical chance from that rating.
      </p>

      <h3 style="color: var(--accent-cyan); margin-top: 1.5rem; margin-bottom: 0.75rem;">How It Scales</h3>
      <p>
        The rating multiplier <strong>decreases</strong> as you level up, meaning the same amount of rating provides
        less benefit at higher levels. However, higher ilvl items roll higher rating values, maintaining progression
        balance.
      </p>

      <ul class="feature-list">
        <li><strong>Critical Rating:</strong> Converts to Critical Chance %</li>
        <li><strong>Speed Rating:</strong> Converts to Speed %</li>
        <li><strong>Evasion Rating:</strong> Converts to Evasion points</li>
        <li><strong>Accuracy Rating:</strong> Converts to Accuracy points</li>
      </ul>
    </div>

    <div class="content-section">
      <h2>Status Effects & Debuffs</h2>
      <p>
        Various abilities, skills, and enchantments can apply powerful debuffs to enemies. Understanding these
        status effects is crucial for maximizing your damage and controlling the battlefield.
      </p>

      <div class="debuffs-grid" id="debuffs-grid"></div>
    </div>

    <div class="content-section">
      <h2>Combat Progression</h2>
      <p>
        As you progress through zones, combat becomes increasingly challenging and rewarding.
        Unlock new abilities, upgrade your equipment, and refine your strategy to overcome
        tougher enemies and earn better rewards.
      </p>
    </div>
  </div>

  <!-- Load debuff data and render cards -->
  <script src="debuffs-data.js"></script>
  <script>
    // Render debuff cards
    document.addEventListener('DOMContentLoaded', function() {
      const grid = document.getElementById('debuffs-grid');
      const debuffOrder = ['stun', 'ministun', 'root', 'slow', 'runicmark', 'poison', 'burn', 'bleed', 'armorbreak', 'attackreduction', 'weaken'];

      debuffOrder.forEach(debuffId => {
        const debuff = debuffsData[debuffId];
        if (!debuff) return;

        const card = document.createElement('a');
        card.href = `debuff.html?id=${debuffId}`;
        card.style.textDecoration = 'none';
        card.style.color = 'inherit';

        // Capitalize first letter for image filename
        const imageFileName = debuffId.charAt(0).toUpperCase() + debuffId.slice(1);

        const cardContent = document.createElement('div');
        cardContent.className = 'debuff-card';

        // Create image element with fallback to emoji
        const img = document.createElement('img');
        img.src = `images/debuffs/${imageFileName}.png`;
        img.alt = debuff.name;
        img.className = 'debuff-image';

        // Fallback to emoji if image fails to load
        img.onerror = function() {
          this.style.display = 'none';
          const emojiIcon = document.createElement('div');
          emojiIcon.className = 'debuff-icon';
          emojiIcon.textContent = debuff.icon;
          this.parentNode.insertBefore(emojiIcon, this);
        };

        const name = document.createElement('div');
        name.className = 'debuff-name';
        name.textContent = debuff.name;

        cardContent.appendChild(img);
        cardContent.appendChild(name);
        card.appendChild(cardContent);
        grid.appendChild(card);
      });
    });
  </script>
</body>

</html>