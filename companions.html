<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Loyal Companions ‚Äì Idle Adventure</title>

  <!-- Google Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link
    href="https://fonts.googleapis.com/css2?family=Press+Start+2P&family=Space+Grotesk:wght@400;500;600;700&display=swap"
    rel="stylesheet">

  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    :root {
      --bg-dark: #0a0e1a;
      --bg-dark-2: #141829;
      --bg-card: #1a1f35;
      --accent-purple: #7c3aed;
      --accent-orange: #f59e0b;
      --accent-cyan: #06b6d4;
      --text-primary: #f3f4f6;
      --text-secondary: #9ca3af;
    }

    body {
      font-family: 'Space Grotesk', -apple-system, BlinkMacSystemFont, sans-serif;
      background: var(--bg-dark);
      color: var(--text-primary);
      line-height: 1.6;
    }

    .nav-bar {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      background: rgba(10, 14, 26, 0.95);
      backdrop-filter: blur(10px);
      padding: 1rem 2rem;
      z-index: 1000;
      border-bottom: 1px solid rgba(124, 58, 237, 0.2);
    }

    .nav-content {
      max-width: 1200px;
      margin: 0 auto;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .nav-logo {
      font-family: 'Press Start 2P', monospace;
      font-size: 1rem;
      color: var(--accent-orange);
      text-shadow: 0 0 10px rgba(245, 158, 11, 0.5);
      text-decoration: none;
    }

    .back-link {
      color: var(--accent-cyan);
      text-decoration: none;
      font-weight: 600;
      transition: color 0.3s ease;
    }

    .back-link:hover {
      color: var(--accent-orange);
    }

    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 6rem 2rem 3rem;
    }

    .hero-section {
      text-align: center;
      margin-bottom: 4rem;
    }

    .page-title {
      font-size: clamp(2.5rem, 6vw, 4rem);
      background: linear-gradient(135deg, var(--accent-orange), var(--accent-cyan));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      margin-bottom: 1rem;
    }

    .page-subtitle {
      font-size: 1.25rem;
      color: var(--text-secondary);
      max-width: 700px;
      margin: 0 auto 2rem;
    }

    .content-section {
      background: var(--bg-card);
      border-radius: 16px;
      padding: 2rem;
      margin-bottom: 2rem;
      border: 2px solid rgba(124, 58, 237, 0.2);
    }

    .content-section h2 {
      color: var(--accent-orange);
      margin-bottom: 1rem;
      font-size: 1.75rem;
    }

    .content-section h3 {
      color: var(--accent-cyan);
      margin-top: 1.5rem;
      margin-bottom: 0.75rem;
      font-size: 1.25rem;
    }

    .content-section p {
      color: var(--text-secondary);
      line-height: 1.8;
      margin-bottom: 1rem;
    }

    .companions-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 1.5rem;
    }

    .companion-card {
      background: var(--bg-card);
      border: 2px solid rgba(124, 58, 237, 0.2);
      border-radius: 12px;
      padding: 1.25rem;
      transition: all 0.3s ease;
      cursor: pointer;
      text-align: center;
    }

    .companion-card:hover {
      transform: translateY(-5px);
      border-color: var(--accent-orange);
      box-shadow: 0 8px 24px rgba(124, 58, 237, 0.3);
    }

    .companion-icon {
      width: 80px;
      height: 80px;
      margin: 0 auto 0.75rem;
      object-fit: contain;
      filter: drop-shadow(0 0 10px rgba(245, 158, 11, 0.3));
    }

    .companion-name {
      color: var(--accent-orange);
      font-size: 1.15rem;
      font-weight: 700;
      margin-bottom: 0.5rem;
    }

    .companion-ability {
      color: var(--accent-cyan);
      font-weight: 600;
      margin-bottom: 0.5rem;
      font-size: 0.85rem;
    }

    .companion-description {
      color: var(--text-secondary);
      line-height: 1.5;
      font-size: 0.85rem;
    }

    .stat-highlight {
      color: var(--accent-orange);
      font-weight: 600;
    }

    .feature-list {
      list-style: none;
      padding: 0;
    }

    .feature-list li {
      padding: 0.75rem 0;
      border-bottom: 1px solid rgba(124, 58, 237, 0.1);
      color: var(--text-secondary);
    }

    .feature-list li:last-child {
      border-bottom: none;
    }

    .feature-list li:before {
      content: "üêæ";
      margin-right: 0.75rem;
    }

    .formula-box {
      background: rgba(6, 182, 212, 0.05);
      border: 1px solid var(--accent-cyan);
      padding: 1rem;
      border-radius: 8px;
      font-family: 'Courier New', monospace;
      color: var(--accent-cyan);
      margin: 1rem 0;
    }

    @media (max-width: 768px) {
      .nav-bar {
        padding: 0.75rem 1rem;
      }

      .nav-logo {
        font-size: 0.8rem;
      }

      .container {
        padding: 5rem 1rem 2rem;
      }

      .companions-grid {
        grid-template-columns: 1fr;
        gap: 1rem;
      }

      .companion-card {
        padding: 1rem;
      }

      .companion-icon {
        width: 70px;
        height: 70px;
      }
    }
  </style>
</head>

<body>
  <nav class="nav-bar">
    <div class="nav-content">
      <a href="index.html" class="nav-logo">IDLE ADVENTURE</a>
      <a href="index.html" class="back-link">‚Üê Back to Home</a>
    </div>
  </nav>

  <div class="container">
    <div class="hero-section">
      <h1 class="page-title">üêæ Loyal Companions</h1>
      <p class="page-subtitle">Recruit and train 9 unique companions, each with powerful special abilities</p>
    </div>

    <div class="content-section">
      <h2>Meet Your Companions</h2>
      <p>
        Each companion brings unique abilities and combat styles to your adventures. Unlock them as you progress
        and discover which companions best suit your playstyle.
      </p>

      <div class="companions-grid" id="companions-grid"></div>
    </div>

    <div class="content-section">
      <h2>Companion Progression</h2>
      <p>
        Companions grow stronger alongside you through a deep progression system. Each companion can reach
        <span class="stat-highlight">Level 60</span> and develops five core stats that define their combat effectiveness.
      </p>

      <h3>Stat System</h3>
      <p>
        Every companion has five stats that influence their performance:
      </p>
      <ul class="feature-list">
        <li><strong>STR (Strength)</strong> - Increases damage dealt</li>
        <li><strong>DEX (Dexterity)</strong> - Improves attack speed and hit chance</li>
        <li><strong>CON (Constitution)</strong> - Boosts max stamina and stamina regeneration</li>
        <li><strong>LUCK</strong> - Enhances critical hit chance and critical damage</li>
        <li><strong>SPECIAL</strong> - Amplifies special ability effects and stamina capacity</li>
      </ul>

      <h3>Leveling & Stat Growth</h3>
      <p>
        Companions earn experience from combat and level up automatically. Each level grants
        <span class="stat-highlight">5 stat points</span>. Some of these points are allocated automatically
        based on the companion's nature, while the rest can be assigned by you to customize their build.
      </p>
      <p>
        The XP required per level scales exponentially:
      </p>
      <div class="formula-box">
        XP to Next Level = 1.3 √ó Level^(2 + 0.025 √ó Level) + 350 √ó Level + 100
      </div>
      <p style="color: var(--text-secondary); margin-top: 0.5rem;">
        This exponential scaling means late levels require significantly more combat experience than early levels.
      </p>

      <h3>Scaling with Your Gear</h3>
      <p>
        Companion damage scales with three aspects of your equipped items:
      </p>
      <ul class="feature-list">
        <li><strong>ilvl (Item Level)</strong> - The base level of each item type</li>
        <li><strong>Item Quality</strong> - Determined by rarity and quality upgrades</li>
        <li><strong>Soul Level</strong> - Gained by leveling your items (requires an item to have a Soul)</li>
      </ul>
      <p>
        As you equip higher ilvl gear, upgrade your items, and level them through combat, your companions
        automatically become stronger. This creates natural progression where your companions grow alongside
        your character's equipment improvements.
      </p>
      <p>
        Guild buffs can also enhance companion performance, providing bonuses to damage, speed and range, or
        stamina regeneration based on your guild's active buffs.
      </p>
      <h3>Total Companion Level</h3>
      <p>
        Your <span class="stat-highlight">Total Companion Level</span> is the sum of all your companions' individual levels.
        This cumulative progression provides powerful account-wide benefits that make leveling additional companions increasingly rewarding.
      </p>

      <h4>Bonus Stat Points</h4>
      <div class="formula-box">
        Bonus Stat Points = (Total Companion Level √∑ 10) √ó 2
      </div>
      <p style="color: var(--text-secondary); margin-top: 0.5rem;">
        Every 10 total companion levels grants <span class="stat-highlight">2 bonus stat points</span> that can be allocated
        to any companion. For example, reaching 50 total companion levels provides 10 bonus stat points to distribute across
        your roster as you see fit.
      </p>

      <h4>Global XP Bonus</h4>
      <div class="formula-box">
        XP Bonus = 125% √ó (1 - 350 √∑ (Total Companion Level + 350))
      </div>
      <p style="color: var(--text-secondary); margin-top: 0.5rem;">
        All companions gain bonus XP based on your total companion level. This bonus scales asymptotically toward a maximum
        of 125%, meaning each companion you level makes all future companion progression faster:
      </p>
      <ul class="feature-list">
        <li>50 total levels: ~17.8% bonus XP</li>
        <li>100 total levels: ~27.8% bonus XP</li>
        <li>350 total levels: ~62.5% bonus XP</li>
      </ul>
      <p style="color: var(--text-secondary);">
        This system rewards investing in your entire companion roster. Guild buffs can further enhance companion XP gains
        by an additional 25%, stacking multiplicatively with your total companion level bonus.
      </p>
    </div>

    <div class="content-section">
      <h2>Mentor System</h2>
      <p>
        Accelerate your companion training with the mentor system. Your active companion can mentor one lower-level
        companion, sharing <span class="stat-highlight">15% of earned XP</span> to speed up their development.
      </p>

      <h3>How It Works</h3>
      <ul class="feature-list">
        <li>Select any owned companion that's lower level than your active companion as a mentee</li>
        <li>The mentee receives 15% of all XP earned by your active companion</li>
        <li>The active companion still receives full XP - mentoring doesn't reduce their gains</li>
        <li>Mentoring automatically stops if the mentee reaches the mentor's level</li>
        <li>Perfect for bringing new companions up to speed or balancing your roster</li>
      </ul>

      <h3>Strategic Benefits</h3>
      <p>
        The mentor system lets you efficiently level multiple companions without switching your active fighter.
        This is especially valuable when you unlock high-level companions but want to try earlier ones, or when
        building a balanced team for different combat scenarios.
      </p>
    </div>

    <div class="content-section">
      <h2>Pet Collection</h2>
      <p>
        Beyond your 9 trainable companions, discover and collect over <span class="stat-highlight">90+ unique pets</span>
        throughout your adventure. Pets provide passive bonuses, cosmetic variety, and collectible achievements.
        Each pet contributes to your overall power through the Pet Power system, which scales with your collection size
        and rarity.
      </p>
    </div>
  </div>

  <!-- Load companion data and render cards -->
  <script src="companions-data.js"></script>
  <script>
    // Define companion order
    const companionOrder = ['jindo', 'ember', 'mystikat', 'hootini', 'globbie', 'acornelius', 'florence', 'mechabird', 'snekles'];

    // Get the special ability name from companion data
    function getSpecialAbilityName(companion) {
      // Find the special ability section
      const abilitySection = companion.sections.find(section =>
        section.title.toLowerCase().includes('ability') ||
        section.title.toLowerCase().includes('special attack')
      );

      if (abilitySection) {
        const abilityContent = abilitySection.content.find(content => content.type === 'ability-box');
        if (abilityContent) {
          return abilityContent.name;
        }
      }
      return 'Special Attack';
    }

    // Render companion cards
    document.addEventListener('DOMContentLoaded', function() {
      const grid = document.getElementById('companions-grid');

      companionOrder.forEach(companionId => {
        const companion = companionsData[companionId];
        if (!companion) return;

        const card = document.createElement('a');
        card.href = `companion.html?id=${companionId}`;
        card.style.textDecoration = 'none';
        card.style.color = 'inherit';

        const abilityName = getSpecialAbilityName(companion);

        card.innerHTML = `
          <div class="companion-card">
            <img src="images/companion/${companionId}.png" alt="${companion.name}" class="companion-icon" />
            <div class="companion-name">${companion.name}</div>
            <div class="companion-ability">${abilityName}</div>
            <div class="companion-description">${companion.subtitle}</div>
          </div>
        `;

        grid.appendChild(card);
      });
    });
  </script>
</body>

</html>
